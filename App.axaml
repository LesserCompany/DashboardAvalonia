<Application xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             x:Class="LesserDashboardClient.App"
             xmlns:local="clr-namespace:LesserDashboardClient"
             xmlns:converters="clr-namespace:LesserDashboardClient.Resources.Converters"
             RequestedThemeVariant="Default">
             <!-- "Default" ThemeVariant follows system theme variant. "Dark" or "Light" are other available options. -->

    <Application.DataTemplates>
        <local:ViewLocator/>
    </Application.DataTemplates>
    <Application.Resources>
      <ResourceDictionary>
        <ResourceDictionary.MergedDictionaries>
          <ResourceDictionary>
            <converters:BoolToTextDecorationConverter x:Key="BoolToTextDecorationConverter" />
            <converters:SumConverter x:Key="MultiBindingSumConverter" />
            <converters:DateTimeToStringConverter x:Key="DateTimeToStringConverter" />
            <converters:FalseToVisibleConverter x:Key="FalseToVisibleConverter" />
            <converters:CollectionOptionsComboConverter x:Key="CollectionOptionsComboConverter" />
            <converters:UploadCompleteToBackgroundConverter x:Key="UploadCompleteToBackgroundConverter" />
            <converters:PriceToStringConverter x:Key="PriceToStringConverter" />
            <converters:NullToBoolConverter x:Key="NullToBoolConverter" />
            <converters:BoolToLoadMoreTextConverter x:Key="BoolToLoadMoreTextConverter" />
          </ResourceDictionary>
        </ResourceDictionary.MergedDictionaries>
        
        <!-- Estilo único para Paths pequenos na linha de meta -->
        <Style x:Key="MetaIcon" Selector="Path">
          <Setter Property="Width" Value="14"/>
          <Setter Property="Height" Value="14"/>
          <Setter Property="Stroke" Value="{DynamicResource MetaFg}"/>
          <Setter Property="StrokeThickness" Value="1.4"/>
          <Setter Property="Stretch" Value="Uniform"/>
          <Setter Property="Margin" Value="0,0,6,0"/>
          <Setter Property="IsHitTestVisible" Value="False"/>
        </Style>
        
        <ResourceDictionary.ThemeDictionaries>
          <!-- Light Theme Resources -->
          <ResourceDictionary x:Key="Light">
            <SolidColorBrush x:Key="CardBackgroundActiveBrush" Color="#FFFFA726" />
            <SolidColorBrush x:Key="CardBackgroundInactiveBrush" Color="#FFF5F5F5" />
            <SolidColorBrush x:Key="TextPrimaryBrush" Color="#FF000000" />
            <SolidColorBrush x:Key="TextSecondaryBrush" Color="#FF333333" />
            <SolidColorBrush x:Key="TextTertiaryBrush" Color="#FF666666" />
            <SolidColorBrush x:Key="WarningTextBrush" Color="#FFD32F2F" />
            <SolidColorBrush x:Key="BorderBrushCustom" Color="#FFCCCCCC" />
            <SolidColorBrush x:Key="SeparatorBrush" Color="#FFE0E0E0" />
            
            <!-- Card Colors for Light Theme -->
            <SolidColorBrush x:Key="CardBg" Color="#F5F5F5"/>
            <SolidColorBrush x:Key="CardBgHover" Color="#EEEEEE"/>
            <SolidColorBrush x:Key="CardBorder" Color="#E0E0E0"/>
            <SolidColorBrush x:Key="Accent" Color="#FF9600"/>
            <SolidColorBrush x:Key="BadgeBg" Color="#E8E8E8"/>
            <SolidColorBrush x:Key="BadgeFg" Color="#333333"/>
            <SolidColorBrush x:Key="MetaFg" Color="#666666"/>

          </ResourceDictionary>
          
          <!-- Dark Theme Resources -->
          <ResourceDictionary x:Key="Dark">
            <SolidColorBrush x:Key="CardBackgroundActiveBrush" Color="#FFFFA726" />
            <SolidColorBrush x:Key="CardBackgroundInactiveBrush" Color="#FF383735" />
            <SolidColorBrush x:Key="TextPrimaryBrush" Color="#FFFFFFFF" />
            <SolidColorBrush x:Key="TextSecondaryBrush" Color="#FFE2DFDC" />
            <SolidColorBrush x:Key="TextTertiaryBrush" Color="#FFAAAAAA" />
            <SolidColorBrush x:Key="WarningTextBrush" Color="#FFFF5722" />
            <SolidColorBrush x:Key="BorderBrushCustom" Color="#FF000000" />
            <SolidColorBrush x:Key="SeparatorBrush" Color="#FF666666" />
            
            <!-- Card Colors for Dark Theme -->
            <SolidColorBrush x:Key="CardBg" Color="#1E1E1E"/>
            <SolidColorBrush x:Key="CardBgHover" Color="#242424"/>
            <SolidColorBrush x:Key="CardBorder" Color="#2F2F2F"/>
            <SolidColorBrush x:Key="Accent" Color="#FF9600"/>
            <SolidColorBrush x:Key="BadgeBg" Color="#2A2A2A"/>
            <SolidColorBrush x:Key="BadgeFg" Color="#ECECEC"/>
            <SolidColorBrush x:Key="MetaFg" Color="#B7B7B7"/>

          </ResourceDictionary>
        </ResourceDictionary.ThemeDictionaries>
      </ResourceDictionary>
    </Application.Resources>
  
    <Application.Styles>
        <FluentTheme>
            <FluentTheme.Palettes>
                <ColorPaletteResources x:Key="Light" Accent="#FF9600" RegionColor="#F7F7F7" ErrorText="Red" />
                <!-- Palette for Dark theme variant -->
              <ColorPaletteResources x:Key="Dark" Accent="#ffff9600" AltHigh="Black" AltLow="Black" AltMedium="Black" AltMediumHigh="Black" AltMediumLow="Black" BaseHigh="White" BaseLow="#ff4c4a48" BaseMedium="#ffa6a5a4" BaseMediumHigh="#ffbdbcbb" BaseMediumLow="#ff797876" ChromeAltLow="#ffbdbcbb" ChromeBlackHigh="Black" ChromeBlackLow="#ffbdbcbb" ChromeBlackMedium="Black" ChromeBlackMediumLow="Black" ChromeDisabledHigh="#ff4c4a48" ChromeDisabledLow="#ffa6a5a4" ChromeGray="#ff908e8d" ChromeHigh="#ff908e8d" ChromeLow="#ff21201e" ChromeMedium="#ff2c2a29" ChromeMediumLow="#ff413f3e" ChromeWhite="White" ListLow="#ff2c2a29" ListMedium="#ff4c4a48" RegionColor="#ff1f1f1f" />

            </FluentTheme.Palettes>
        </FluentTheme>
        <StyleInclude Source="avares://Avalonia.Controls.DataGrid/Themes/Fluent.xaml"/>
        <StyleInclude Source="avares://FluentAvalonia.ProgressRing/Styling/Controls/ProgressRing.axaml" />
        
        <!-- Estilo personalizado para menu de contexto -->
        <Style Selector="ContextMenu">
          <Setter Property="Background" Value="{DynamicResource CardBackgroundInactiveBrush}"/>
          <Setter Property="BorderBrush" Value="{DynamicResource SeparatorBrush}"/>
          <Setter Property="BorderThickness" Value="1"/>
        </Style>
        
        <Style Selector="ContextMenu MenuItem">
          <Setter Property="Foreground" Value="{DynamicResource TextPrimaryBrush}"/>
          <Setter Property="Background" Value="Transparent"/>
        </Style>
        
        <Style Selector="ContextMenu MenuItem:hover">
          <Setter Property="Background" Value="{DynamicResource CardBgHover}"/>
        </Style>
        
        <!-- Tradução do menu de contexto -->
        <Style Selector="ContextMenu MenuItem[Header='Cut']">
          <Setter Property="Header" Value="{Tr 'Cut'}"/>
        </Style>
        
        <Style Selector="ContextMenu MenuItem[Header='Copy']">
          <Setter Property="Header" Value="{Tr 'Copy'}"/>
        </Style>
        
        <Style Selector="ContextMenu MenuItem[Header='Paste']">
          <Setter Property="Header" Value="{Tr 'Paste'}"/>
        </Style>
    </Application.Styles>
</Application>